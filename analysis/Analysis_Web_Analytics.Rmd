---
title: "Analysis_Web_Analytic"
author: "Dawn Han"
date: "2026-01-12"
output: html_document
knit: (function(input, ...) {
    rmarkdown::render(
      input,
      output_dir = "../docs"
    )
  })
---

```{r global-options, include=FALSE}
knitr::opts_chunk$set(
  fig.width = 12,
  fig.height = 8,
  fig.path = "../figs/",
  echo = TRUE,
  warning = FALSE,
  message = FALSE
)
```

```{css echo = FALSE}
body {
  font-size: 16px;
}
```

# Executive Summary

### Goal
Evaluate the user engagement ont the website, where and why disengagement occurs, and surface actionable UX opportunities that can meaningfully improve conversion outcomes.

### Data
Aggregated web analytics data collected between 2017-06-01 and 2017-10-11, including user-level,  page-level, session-duration, landing page-level, referral source-level metrics such as number of sessions, session duration, bounce behavior, conversion.

### Key Findings
- **Early disengagement is prevalent**: Over 30% of sessions end within the first 10 seconds, indicating substantial friction or expectation mismatch at session entry.

- **Engagement is polarized**: Session duration, bounce behavior, and conversion outcomes show highly polarized distributions, suggesting distinct user journeys rather than uniformly weak UX.

- **A critical engagement threshold exists**: Sessions lasting longer than approximately 3 minutes exhibit disproportionately higher engagement and conversion likelihood.

- **Bounce behavior varies by landing page and referral source**, but are largely consistent across affinity categories.

### UX Implications
- The primary UX risk lies in **early-session experience**, which can drive engagement and conversion.

- Improving **landing page relevance and referral alignment** is likely to yield higher impact than audience targeting or personalization based on affinity categories.

- Preventing early disengagement represents a **high-leverage opportunity** for increasing the number of users who convert at least once.

### Data Quality & Measurement Decisions
Before analysis, several decisions were made to ensure clarity and analytical validity:
  
- Sessions with missing or invalid duration values were removed, as these likely reflect logging errors.

- For affinity analyses, metrics (bounce rate and number of sessions) were aggregated at the level 1 affinity group (the broadest category) to simplify visualization. Bounce rates were computed as session-weighted averages to prevent distortion from low-traffic pages, while the number of sessions was summed to reflect the total user engagement for each affinity group.

- All analyses were performed on the processed datasets.



# Step 1: Setup

### Libraries Loaded: gggplot2, dplyr, gtsummary
<details> <summary>Show code</summary>
```{r results = FALSE}
library(dplyr)
library(ggplot2)
library(gtsummary)
```
</details>

### Data Imported: Web analytics datsets
<details> <summary>Show code</summary>
```{r results = FALSE}

user_data <- read.csv("../data/processed_data/user_data_clean.csv")

engagement_data <- read.csv("../data/processed_data/engagement_data_clean.csv")

page_data <- read.csv("../data/processed_data/page_data_clean.csv")

referrer_data <- read.csv("../data/processed_data/referrer_data_clean.csv")

affinity_summarydata <- read.csv("../data/processed_data/affinity_summarydata_clean.csv")
```
</details> 

### Global Plot-Formatting: Applied consistent styling
<details> <summary>Show code</summary>
```{r plotformat, results = FALSE}

theme_ux <- theme_minimal(base_size = 14) +
  theme(
    plot.title = element_text(face = "bold", size = 20),
    plot.subtitle = element_text(size = 18),
    axis.title = element_text(size = 15),
    axis.text  = element_text(size = 13),
    panel.grid.minor = element_blank()
  )
  
```
</details> 
<br> 
<br> 

# Step 2: Evaluating User Engagement
## 2.1 Session Duration Overview

<details> <summary>Show code for data preparation </summary>
```{r }  
# Prepare data for visualizaion

engagement_data <- engagement_data %>% 
  mutate(
    # Make Session Duration as an ordered factor for better visualization
    SessionDuration = factor(
      engagement_data$SessionDuration, 
      levels = c("0-10 seconds", 
                 "11-30 seconds", 
                 "31-60 seconds",
                 "61-180 seconds",
                 "181-600 seconds",
                 "601-1800 seconds",
                 "1801+ seconds"
                  ),
      labels = c("0-10 seconds",
                  "11-30 seconds", 
                  "31-60 seconds",
                  "1-3 minutes", 
                  "3-10 minutes",
                  "10-30 minutes",
                  "30+ minutes"
                  ),
      ordered = TRUE
      )
    )

# Determine a scaling factor so the line fits on the same plot
scale_factor <- max(engagement_data$Sessions)/
  max(engagement_data$AvgViewPerSess)

```
</details>
<details> <summary>Show code for the plot</summary>
```{r eval=FALSE}
ggplot(engagement_data, aes(x = SessionDuration)) +
  geom_bar(aes(y = Sessions),
           stat = "identity",
           fill = "skyblue3",
           alpha = 0.7) +
  geom_line(aes(y = AvgViewPerSess * scale_factor, group = 1),
            color = "red", size = 0.9, alpha = 0.8) +
  geom_point(aes(y = AvgViewPerSess * scale_factor),
             color = "red", size = 2) +
  geom_text(
    aes(y = AvgViewPerSess * scale_factor,
        label = round(AvgViewPerSess, 1)),
    vjust = -0.8, color = "red", size = 3, check_overlap = TRUE
  ) +
  scale_y_continuous(
    name = "Number of Sessions",
    sec.axis = sec_axis(~ . / scale_factor,
                        name = "Number of Page Viewed (per Session)")
  ) +
  scale_x_discrete(labels = function(x) gsub("seconds", "sec", x)) +
  labs(
    title = "Longer Sessions Drive Higher Engagement",
    subtitle = "Bar shows total number of sessions; red line shows average number of pages viewed per session",
    x = "Session Duration"
  ) +
  theme_ux +
  theme(
    axis.title.y.right = element_text(color = "red"),
    axis.text.y.right  = element_text(color = "red"),
    axis.title.y.left = element_text(color = "skyblue4"),
    axis.text.y.left  = element_text(color = "skyblue4")
  )
```
</details>

```{r echo=FALSE}
# Draw the plot
ggplot(engagement_data, aes(x = SessionDuration)) +
  geom_bar(aes(y = Sessions),
           stat = "identity",
           fill = "skyblue3",
           alpha = 0.7) +
  geom_line(aes(y = AvgViewPerSess * scale_factor, group = 1),
            color = "red", size = 0.9, alpha = 0.8) +
  geom_point(aes(y = AvgViewPerSess * scale_factor),
             color = "red", size = 2) +
  geom_text(
    aes(y = AvgViewPerSess * scale_factor,
        label = round(AvgViewPerSess, 1)),
    vjust = -0.8, color = "red", size = 3, check_overlap = TRUE
  ) +
  scale_y_continuous(
    name = "Number of Sessions",
    sec.axis = sec_axis(~ . / scale_factor,
                        name = "Number of Page Viewed (per Session)")
  ) +
  scale_x_discrete(labels = function(x) gsub("seconds", "sec", x)) +
  labs(
    title = "Longer Sessions Drive Higher Engagement",
    subtitle = "Bar shows total number of sessions; red line shows average number of pages viewed per session",
    x = "Session Duration"
  ) +
  theme_ux +
  theme(
    axis.title.y.right = element_text(color = "red"),
    axis.text.y.right  = element_text(color = "red"),
    axis.title.y.left = element_text(color = "skyblue4"),
    axis.text.y.left  = element_text(color = "skyblue4")
  )
```

```{r include=FALSE}
percent_10sec <- as.numeric(engagement_data$Sessions_Percent[1])
percent_30min <- as.numeric(engagement_data$Sessions_Percent[6])
minimum_timeperpage <- as.numeric(min(10*60/engagement_data$AvgViewPerSess[6], 
                           30*60/engagement_data$AvgViewPerSess[7]))
```

#### Interpretation
* Over `r round(percent_10sec, -1)`% of sessions **end within 10 seconds**, indicating a substantial early-exit users. 
* Among sessions that persist beyond the initial drop-off, **10–30 minutes** is the most common duration (~`r round(percent_30min, -1)`%). 
* Once sessions lasted longer than **3 minutes**, page views sharply increased. 
* Overall, the pattern suggests a **threshold effect**: users either disengage almost immediately or become highly engaged once past some point.

 
#### Insightss
* The ~3-minute threshold could guide design of early-engagement metrics. 
* UX improvements aimed at increasing deep engagement are unlikely to succeed unless early exits are first reduced.
* Consequently, subsequent analyses focus on early disengagement behaviors.


#### Notes
Although longer sessions with more page views could theoretically reflect inefficient navigation rather than engagement, this interpretation is unlikely:

* For sessions longer than 10 minutes,the average time per page (>= `r round(minimum_timeperpage,1)` secs.) falls within a reasonable engagement range.

* Session duration is strongly correlated with conversion (r = 0.87), reinforcing its relevance as an engagement indicator.

While it would be valuable to further test whether page views independently predict conversion, this could not be evaluated with the available data.

<br> 
<br> 


## 2.2 Bounce Behavior Overview
<details>
<summary>Show code for the plot</summary>
```{r eval=FALSE}
# Histogram with counts on bars
ggplot(user_data, aes(x = `BounceRate`)) +
  geom_histogram(binwidth = 0.1,  fill = "skyblue3", alpha = 0.7) +
  scale_x_continuous(breaks=seq(0,1,by=0.1))+
  geom_text(
    stat = "bin", 
    binwidth = 0.1,
    aes(label = ..count..), 
    vjust = -0.5,
    color = "black"
  ) +
  labs(title = "Bounce Rate Distribution", x = "Bounce rate", y = "Number of Users") +
  theme_ux
```
</details>

```{r echo=FALSE}
# Histogram with counts on bars
ggplot(user_data, aes(x = `BounceRate`)) +
  geom_histogram(binwidth = 0.1,  fill = "skyblue3", alpha = 0.7) +
  scale_x_continuous(breaks=seq(0,1,by=0.1))+
  geom_text(
    stat = "bin", 
    binwidth = 0.1,
    aes(label = ..count..), 
    vjust = -0.5,
    color = "black"
  ) +
  labs(title = "Bounce Rate Distribution", x = "Bounce rate", y = "Number of Users") +
  theme_ux
```

```{r echo=FALSE}
percent_0bounce <-sum(user_data$BounceRate == 0)/length(is.na(user_data$BounceRate))*100

percent_1bounce <-sum(user_data$BounceRate == 1)/length(is.na(user_data$BounceRate))*100
```


#### Interpretation
* The bounce rate distribution is highly polarized: </br>
- most users (~`r round(percent_0bounce,1)`%) never bounce.
- A notable minority (~`r round(percent_1bounce,1)`%) always bounce. 
* This pattern suggests that bounce behavior reflects systematic differences in early experience, rather than random disengagement.

#### Insights
* No bouncing of majority users argue against a globally poor UX.
* Instead, early experience likely stems from:
<ol>
  <li>Quality or relevance issues on specific landing pages</li>
  <li>Misaligned referral sources bringing low-intent traffic</li>
  <li>Context-specific user journeys rather than broad audience differences </li>
</ol>

* Further analysis should focus on how landing pages, referral sources, and affinity group predicts early disengagement.

<br> 
<br> 

# Step 3. Confirm Business Impact: How Addressing Early Disengagement Is Important For Conversion
## Why Early Disengagement Matters for Conversion
## 3.1 Conversion Rate Distribution
<details>
<summary>Show code for the plot</summary>
```{r eval=FALSE}

# Density Plot of Conversion Rate (User-level data)
ggplot(user_data, aes(x = `GoalConversionRate`)) +
  geom_density(fill = "skyblue3", alpha = 0.7) +
  scale_x_continuous(breaks = seq(0, 1, by = 0.1))+
  labs(title = "Conversion Rate Distribution", x = "Conversion rate", y = "Density") +
  theme_ux

```
</details>

```{r echo=FALSE}
# Density Plot of Conversion Rate (User-level data)
ggplot(user_data, aes(x = `GoalConversionRate`)) +
  geom_density(fill = "skyblue3", alpha = 0.7) +
  scale_x_continuous(breaks = seq(0, 1, by = 0.1))+
  labs(title = "Conversion Rate Distribution", x = "Conversion rate", y = "Density") +
  theme_ux
```

```{r echo = FALSE}
ZeroConversionPercent = nrow(
  user_data[
    (user_data$GoalConversionRate)==0,]
    )/
    length(is.na(user_data$GoalConversionRate))*
    100

OneConversionPercent = nrow(
    user_data[
      (user_data$GoalConversionRate)==1,]
    )/
    length(is.na(user_data$GoalConversionRate))*
    100

```


#### Interpretation
* Conversion outcomes are strongly polarized:
 - ~`r round(ZeroConversionPercent,1)`% of users never convert.
 - ~`r round(OneConversionPercent,1)`% of users consistently convert. 

#### Insights
* Good business opportunities lies in shifting users from zero conversion to at least one conversion.
* This polarized distribution of conversion mirrors engagement patterns, suggesting that early disengagement may be a key driver of zero conversion.

* Statistical modeling is used to test and quantify this relationship.


</br>
</br>

## 3.2 Assessing The Impact of Early Disengagement On Zero-Conversion
**Note:** Early disengagement is defined as exiting before 3 minutes, based on prior session duration analysis.

### Visual Inspection of Variables
<details>
<summary>Show code and plots for distribution check</summary>
```{r }
ggplot(user_data, aes(x = GoalConversionRate)) +
  geom_histogram(bins = 50) +
  labs(title = "Distribution of Conversion Rate (log-scaled x-axis)") +
  theme_ux

ggplot(user_data, aes(x = Sessions)) +
  geom_histogram(bins = 50) +
  scale_x_continuous(trans = "log10") + # for visualizing skewed data
  labs(title = "Distribution of Total Sessions (log-scaled x-axis)") +
  theme_ux


ggplot(user_data, aes(x = Avg.SessionDuration.seconds.)) +
  geom_histogram(bins = 50) +
  labs(title = "Distribution of Average Session Duration in Seconds") +
  theme_ux


ggplot(user_data, aes(x = BounceRate)) +
  geom_histogram(bins = 50) +
  labs(title = "Distribution of BounceRate") +
  theme_ux


```
</details>

  
### Outlier Handling: Winsorize at the 1st and 99th percentiles
<details>
<summary>Show code for outlier handling</summary>
```{r echo=FALSE}
# Winsorize function
winsorize <- function(x, probs = c(0.01, 0.99)) {
  q <- quantile(x, probs = probs, na.rm = TRUE)
  x[x < q[1]] <- q[1]
  x[x > q[2]] <- q[2]
  return(x)
}

user_data <- user_data %>%
  mutate(
    Avg.SessionDuration.seconds._w = winsorize(Avg.SessionDuration.seconds.),
    Sessions_w = winsorize(Sessions)
  )

```
</details>

### Data transformation
<details>
<summary>Show code for predictor and outcome transformation </summary>
```{r}

user_data <- user_data %>%
  mutate(
    # Log transformation of right skewed continuous variables
    log_Avg.SessionDuration.seconds. = log1p(Avg.SessionDuration.seconds._w),   # log(1 + x)  to handle zero duration among some users
    log_Sessions = log(Sessions_w),
    
    # creating binary outcome for conversion rate
    ConversionBinary = ifelse(GoalConversionRate > 0, 1, 0),
    
    
    # creating binary predictor for Early Disengagement using Duration
    EarlyExit = ifelse(Avg.SessionDuration.seconds. < 180, 1, 0)
  )


```
</details>

**Log transformation of session duration and number of session:**
It reduces regression assumption violation (heteroskedasticity, nonlinearity) and reduces extreme values’ influence and makes relationships more linear.

**Dichotomizing into "never convert" or "convert at lease once":**
The conversion rate peaks around 0 and 1, suggesting separate processes involved in making people convert at least for once and making people continue to convert. 

Using the raw multimodal outcome in linear regression can lead to misleading conclusion. 
As majority of users show 0 conversion, it can be more impactful to change 0 conversion to some number. Thus, how much an early engagement can mitigate this binary outcome is evaluated. 

**Bounce Rate was not transformed because...**
For logistic regression, bounded continuous predictors only need transformation if they are heavily skewed and distort linearity in relation to log-odds. 


### Statistical Test: Predicting Zero_Conversion with Early Disengagement
**Rationale For Model Choice:**</br>
Logistic regression is used as outcome is binary, predictors are continuous or binary, and there are enough (>50) data points

<details>
<summary>Show code for model </summary>
```{r }
logit_model <- glm(ConversionBinary ~ EarlyExit + log_Sessions + BounceRate,
                   data = user_data, family = binomial)
```
</details>

```{r echo = FALSE}
tbl_regression(logit_model , 
               label = list(
                 EarlyExit = "Early Disengagement",
                 log_Sessions = "# of Sessions (log)",
                 BounceRate = 'Bounce Rate')
               )
```


<details>
<summary>Show code for computing percentage change </summary>
```{r}
# R code for Computing Probabilities of Change For Certain Unit Change In Predictors

# Define baseline: median values of predictors and Early Exit
baseline <- data.frame(
  EarlyExit = 1,
  log_Sessions = log(median(user_data$Sessions_w)),
  BounceRate = median(user_data$BounceRate)
)

# Predicted probability at baseline
baseline_prob <- predict(logit_model, baseline, type = "response")
baseline_prob


# If Do Not Exit Early
ExitLate <- baseline
ExitLate$EarlyExit <- 0

pred_ExitLate <- predict(logit_model, ExitLate, type = "response")
pred_ExitLate


# If increase session number by 1
SessionIncrease <- baseline
SessionIncrease$log_Sessions <- log(median(user_data$Sessions_w) + 1)

pred_SessionIncrease <- predict(logit_model, SessionIncrease, type = "response")
pred_SessionIncrease

# If increase bounce rate by 0.1
BounceRateIncrease <- baseline
BounceRateIncrease$BounceRate <- median(user_data$BounceRate) + 0.1

pred_BounceRateIncrease <- predict(logit_model, BounceRateIncrease, type = "response")
pred_BounceRateIncrease

# Compute percentage of zero conversion users
ZeroConversionPercent = nrow(
  user_data[
    (user_data$GoalConversionRate)==0,]
    )/
    length(is.na(user_data$GoalConversionRate))*
    100


```
</details>

#### Interpretation
* After accounting for number of sessions and bounce rate:
  - Staying beyond the 3 minutes is associated with a `r round((pred_ExitLate-baseline_prob)*100,1)` percentage-point increase in the probability of 
  converting at least once.
  - An additional session provides modest gains: `r round((pred_SessionIncrease-baseline_prob)*100,2)` percentage-point increase.
  - Bounce rate increasing by 0.1 is associated with only a `r round((pred_BounceRateIncrease -baseline_prob)*100,2)` percentage-point increase.

#### Insights
* Preventing early exit represent a high-impact invertention point.
* Given that (`r round(ZeroConversionPercent,2)`%) of users never convert, reducing early disengagement could plausibly shift a substantial fraction of users into at least one conversion. * These results quantitatively support prioritizing early-session UX improvements over later-stage optimizations.

</br>
</br>

# Step 4. Identifying Sources of Early Disengagement

**Note:** 

* Analyses focus on bounce rate as the most direct available indicator of early disengagement.
* Only descriptive assessments were conducted as no relevant data is available on individual or session levels.

## Hypothesis 1: Landing Page Issues
<details>
<summary>Show code for data preparation</summary>
```{r }
# Calculate cumulative x positions for variable-width columns (Marimekko)
page_data <- page_data %>%
  mutate(
    Width = `Pageviews` / sum(`Pageviews`),        # width proportional to pageviews
    xmin = lag(cumsum(Width), default = 0),        
    xmax = cumsum(Width)                          
  )

# Max values for scaling secondary axis
max_bounce <- max(page_data$`BounceRate`)
max_load   <- max(page_data$`Avg.PageLoadTime.sec.`)

```
</details>

<details>
<summary>Show code for the plot</summary>
```{r eval=FALSE}
ggplot(page_data) +
  geom_rect(aes(xmin = xmin, xmax = xmax,
                ymin = 0, ymax = BounceRate),
            fill = "skyblue3", color = "skyblue4", alpha = 0.7) +
  geom_line(aes(x = (xmin + xmax)/2,
                y = Avg.PageLoadTime.sec. * max_bounce / max_load),
            color = "red", size = 0.9, alpha = 0.8) +
  scale_y_continuous(
    name = "Bounce Rate",
    sec.axis = sec_axis(~ . * max_load / max_bounce,
                        name = "Avg. Page Load Time (sec)")
  ) +
  scale_x_continuous(
    breaks = (page_data$xmin + page_data$xmax)/2,
    labels = page_data$Page
  ) +
  labs(
    title = "Bounce Rate Varies Sharply by Page, Independent of Load Time",
    subtitle = "Bar width reflects traffic volume; red line shows average load time",
    x = "Pages (width proportional to traffic)",
    y = "Bounce Rate"
  )+
  theme_ux +
  theme(axis.text.x = element_text(angle = 90, hjust = 1,
                                   vjust = ifelse(seq_along(page_data$Page) %% 2 == 0, 1, 0.3)),
        axis.title.y.right = element_text(color = "red"),
        axis.text.y.right  = element_text(color = "red"))
```
</details>

```{r echo=FALSE}
ggplot(page_data) +
  geom_rect(aes(xmin = xmin, xmax = xmax,
                ymin = 0, ymax = BounceRate),
            fill = "skyblue3", color = "skyblue4", alpha = 0.7) +
  geom_line(aes(x = (xmin + xmax)/2,
                y = Avg.PageLoadTime.sec. * max_bounce / max_load),
            color = "red", size = 0.9, alpha = 0.8) +
  scale_y_continuous(
    name = "Bounce Rate",
    sec.axis = sec_axis(~ . * max_load / max_bounce,
                        name = "Avg. Page Load Time (sec)")
  ) +
  scale_x_continuous(
    breaks = (page_data$xmin + page_data$xmax)/2,
    labels = page_data$Page
  ) +
  labs(
    title = "Bounce Rate Varies Sharply by Page, Independent of Load Time",
    subtitle = "Bar width reflects traffic volume; red line shows average load time",
    x = "Pages (width proportional to traffic)",
    y = "Bounce Rate"
  )+
  theme_ux +
  theme(axis.text.x = element_text(angle = 90, hjust = 1,
                                   vjust = ifelse(seq_along(page_data$Page) %% 2 == 0, 1, 0.3)),
        axis.title.y.right = element_text(color = "red"),
        axis.text.y.right  = element_text(color = "red"))
```


#### Interpretation
Bounce rates vary substantially by landing page.

Bounce rate is not strongly associated with page load time, suggesting that performance issues are not the primary driver.

#### Recommendations
* Conduct qualitative evaluation (e.g., usability testing, content review) of high-traffic, high-bounce landing pages (i.e., "Say" and "Finishing" pages.)
* Focus on content clarity, expectation setting, and early interaction cues.

<br> 
<br> 

## Hypothesis 2: Referral Source Mismatch
<details>
<summary>Show code for data preparation</summary>
```{r}
# Calculate cumulative x positions for variable-width columns (Marimekko)
referrer_data <- referrer_data %>%
  mutate(
    Width = `Sessions` / sum(`Sessions`),
    xmin = lag(cumsum(Width), default = 0),
    xmax = cumsum(Width)
  )
```
</details>

<details>
<summary>Show code for the plot</summary>
```{r eval=FALSE}
# Create the plot
ggplot(referrer_data) +
  geom_rect(aes(xmin = xmin, xmax = xmax,
                ymin = 0, ymax = BounceRate),
            fill = "skyblue3", color = "skyblue4", alpha = 0.7) +
  scale_x_continuous(
    breaks = (referrer_data$xmin + referrer_data$xmax)/2,
    labels = referrer_data$Source
  ) +
  labs(
    title = "Bounce Rates Differ Substantially Across Traffic Sources",
    subtitle = "Bar width reflects session volume",
    x = "Source (width proportional to sessions)",
    y = "Bounce Rate"
  ) +
  theme_ux +
  theme(axis.text.x = element_text(angle = 90, hjust = 1))
```
</details>

```{r echo = FALSE}
# Create the plot
ggplot(referrer_data) +
  geom_rect(aes(xmin = xmin, xmax = xmax,
                ymin = 0, ymax = BounceRate),
            fill = "skyblue3", color = "skyblue4", alpha = 0.7) +
  scale_x_continuous(
    breaks = (referrer_data$xmin + referrer_data$xmax)/2,
    labels = referrer_data$Source
  ) +
  labs(
    title = "Bounce Rates Differ Substantially Across Traffic Sources",
    subtitle = "Bar width reflects session volume",
    x = "Source (width proportional to sessions)",
    y = "Bounce Rate"
  ) +
  theme_ux +
  theme(axis.text.x = element_text(angle = 90, hjust = 1))
```

#### Interpretation
* Significant traffic comes from site.com, with high bounce rate. 
* This pattern suggests potential misalignment between referral messaging and on-site content.

#### Recommendations
* Review acquisition messaging and referral context for site.com.
* May consider reallocating acquisition efforts toward higher-engagement sources (e.g., Facebook, Outlook).

<br> 
<br> 

## Hypothesis 3: Varied User Experience Across Affinity Categories
<details>
<summary>Show code for data preparation</summary>
```{r }
# Show Bounce rate by a broad affinity category

# Calculate cumulative x positions for variable-width columns (Marimekko)
affinity_summarydata<- affinity_summarydata %>%
  mutate(
    Width = `total_sessions` / sum(`total_sessions`),
    xmin = lag(cumsum(Width), default = 0),
    xmax = cumsum(Width)
  )
```
</details>

<details>
<summary>Show code for the plot</summary>
```{r eval=FALSE}
ggplot(affinity_summarydata) +
  geom_rect(aes(xmin = xmin, xmax = xmax,
                ymin = 0, ymax = `bounce_rate`),
            fill = "skyblue3", color = "skyblue4", alpha = 0.7) +
  scale_x_continuous(
    breaks = (affinity_summarydata$xmin + affinity_summarydata$xmax)/2,
    labels = affinity_summarydata$AffinityLevel_1 ) +
  labs(title = "Bounce Rates Show Limited Variation Across Affinity Groups", 
       subtitle = "Bar width reflects session volume",
       x = "Affinity",
       y = "Bounce Rate")+
  theme_ux +
  theme(axis.text.x = element_text(angle = 90, hjust = 1))
```
</details>

```{r echo=FALSE}
ggplot(affinity_summarydata) +
  geom_rect(aes(xmin = xmin, xmax = xmax,
                ymin = 0, ymax = `bounce_rate`),
            fill = "skyblue3", color = "skyblue4", alpha = 0.7) +
  scale_x_continuous(
    breaks = (affinity_summarydata$xmin + affinity_summarydata$xmax)/2,
    labels = affinity_summarydata$AffinityLevel_1 ) +
  labs(title = "Bounce Rates Show Limited Variation Across Affinity Groups", 
       subtitle = "Bar width reflects session volume",
       x = "Affinity",
       y = "Bounce Rate")+
  theme_ux +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

#### Interpretation
* Bounce rates are largely consistent across affinity groups.
* This suggests that disengagement is not driven primarily by audience segmentation.

#### Recommendations
Rather than targeting affinity groups directly, investigate interactions between landing pages and referral sources to identify context-specific breakdowns.

</br>

# Conclusion

This analysis indicates that the primary UX risks are concentrated in the earliest moments of the user journey, driven by content relevance, expectation mismatch, and contextual misalignment rather than broad usability or audience issues.

The findings highlight early disengagement as a critical bottleneck with substantial business impact. Improving landing page clarity and referral alignment offers the most promising path to decrease bounce rate.

Finally, session duration—particularly the ~3-minute threshold—emerges as a potentially meaningful benchmark for defining engaged users and evaluating future UX interventions. While promising, this threshold should be validated in future analyses or experiments.


